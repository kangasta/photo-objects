{% extends 'photo_objects/base.html' %}

{% block title %}
<title>Albums - Photo Objects</title>
{% endblock %}

{% block content %}
<h1>Albums</h1>
<a href="{% url 'photo_objects:new_album' %}">New album</a>

{% if albums %}
<ul class="photo-list">
  {% for album in albums %}
  <li>
    <a href="{% url 'photo_objects:show_album' album.key %}">
      {% if album.cover_photo %}
      <img src="/img/{{ album.key }}/{{ album.cover_photo.filename }}/sm"
        alt="{{ album.cover_photo.description|default:album.cover_photo.filename }}"
        style="background: url(data:image/png;base64,{{ album.cover_photo.tiny_base64 }}); background-size: 100% 100%;"
        height="{{ album.cover_photo.thumbnail_height }}" width="{{ album.cover_photo.thumbnail_width }}" />
      {% else %}
      <div class="photo-placeholder"></div>
      {% endif %}
      <div class="photo-label">{{ album.title|default:album.key }}</div>
      <!-- TODO: Year and month, e.g. 24 Mar-->
    </a>
  </li>
  {% endfor %}
</ul>
{% else %}
<p>No albums are available.</p>
{% endif %}
{% endblock %}